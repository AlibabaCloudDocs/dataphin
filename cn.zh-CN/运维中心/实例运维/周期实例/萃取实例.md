# 萃取实例

萃取实例是萃取任务参与系统调度生成的实例数据。系统支持对萃取实例进行运维管理，包括查看运行日志、重跑实例、查看萃取任务和查看节点代码等。

**说明：** 仅Data\_disill项目支持查看萃取实例。

请参见[入口介绍](/cn.zh-CN/运维中心/概述.md)，进入**周期实例**页面。

周期实例的相关通用说明，请参见[通用功能说明](/cn.zh-CN/运维中心/任务运维/周期任务/通用功能说明.md)。

![tata](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9059037061/p188544.png)

## 列表区

萃取实例包括行为规则实例、标签实例和萃取系统实例。系统节点支持查看运行日志、查看任务、重跑、查看节点代码、重跑下游、置成功继续调度、终止、强制重跑、暂停和恢复运维操作。系统节点不支持编辑行为规则实例和标签实例节点。

|操作|描述|限制|影响|
|--|--|--|--|
|查看运行日志|进入运行日志页面，查看实例节点运行的日志。|无|无|
|重跑|重跑当前实例节点及其下游未运行的实例节点。|系统仅支持重跑运行状态为成功和失败的实例。|重跑后，当前实例节点及下游实例节点数据更新。|
|查看节点代码|查看该萃取任务的节点代码。|任务节点运行时，才会动态生成代码。|无|
|查看任务|查看萃取实例对应的萃取任务。|无|无|
|编辑行为规则|进入当前行为规则的编辑页面，编辑行为规则，详情请参见[编辑行为规则](/cn.zh-CN/数据萃取/行为中心/管理行为规则.md)。|Data\_distill项目中当前行为规则存在。|编辑行为规则后，需要提交成功后，对应调度节点的数据才会更新。|
|编辑标签|进入当前标签的编辑页面，编辑标签，详情请参见[编辑工厂标签](/cn.zh-CN/数据萃取/标签中心/管理工厂标签.md)。|Data\_distill项目中当前标签存在。|编辑标签后，需要提交成功后，对应调度节点的数据才会更新。|
|重跑下游|重跑当前实例节点的下游节点。适用于如下场景，但不仅限于此：-   当前实例节点的数据已更新，需要同步更新下游节点数据。
-   实例节点的下游节点运行失败。

|系统仅支持重跑成功和失败状态实例的下游节点。|重跑后，下游实例节点数据更新。|
|终止|终止正在运行中或等待中的实例节点。适用于如下场景，但不仅限于此：-   由于系统异常或操作失误，需要终止实例运行。
-   实例节点显示运行中，但数据一直未产出。可以手动终止运行并通过运行日志排查异常。

|系统仅支持终止运行状态为运行中和等待中的实例节点。|当前实例节点终止运行后，该节点的下游节点也不会运行。终止成功后，实例的状态变更为失败。 |
|置成功继续调度|将运行失败的实例节点手动置运行成功，继续参与调度。|系统仅支持置成功继续调度运行状态为失败的实例节点。|无|
|强制重跑|强制重跑当前节点。通常适用于需要重跑当前运行状态不符合重跑限制的实例节点。例如，未运行的实例节点。|系统支持强制重跑运行状态为成功、失败、运行中、等待中和未运行的实例节点。|强制重跑实例节点，如果该节点运行成功后，则下游实例节点随之也运行。|
|暂停|即将实例节点的当前调度周期置为暂停调度的状态。暂停实例即暂停实例的当前调度周期，不影响该实例其他调度周期。

|系统仅支持暂停非暂停状态的实例节点。|暂停后，实例节点及下游依赖实例节点均不调度。|
|恢复|即可将当前节点置为正常调度的状态。|系统仅支持恢复已暂停的实例节点。|恢复后，当前实例节点及下游依赖实例节点正常调度。|

## 批量操作区

|操作|描述|限制|影响|
|--|--|--|--|
|暂停|同时暂停多个实例节点的运行。|选中的实例节点运行状态，均为非暂停状态的实例节点。|暂停后，当前实例节点及下游依赖实例节点均不调度。|
|重跑|同时重跑多个实例节点。|选中的实例节点运行状态，均为成功和失败状态的实例。|当前实例节点及下游实例节点数据更新。|
|终止|同时终止多个实例节点的运行。|选中的实例节点运行状态，均为运行中或等待中的实例。|当前实例节点终止运行后，该节点的下游节点也不会运行。|
|恢复|同时恢复多个实例节点未正常调度状态。|选中的实例节点运行状态，均为暂停状态的实例节点。|恢复后，当前实例节点正常生产调度实例。|
|置成功继续调度|同时置多个实例节点的运行状态为成功，并继续调度。|选中的实例节点运行状态，均为失败的实例节点。|无|

## DAG图

萃取DAG旨在为您展示来源表、行为规则和标签之间的数据依赖关系，即仅展示和当前选中行为规则和标签直接相关的上下游节点组成的静态DAG图（隐藏部分中间节点和系统节点），帮助您更直观地查看行为规则和标签的生产消费路径。标签数据产出异常时，您也可以基于萃取静态DAG图进行快速分析排查，避免无数据依赖关系节点的影响。

如果您希望查看包含萃取节点的全局调度依赖关系，需要以来源表节点或其他相关上下游节点为Main节点展开DAG图。

DAG图清晰地为您展示实例节点的上下游依赖关系，同时系统支持对上下游节点进行运维和管理。DAG图默认展示Main节点（选中节点）及上下游第一层节点。通常，行为规则实例DAG图只有一个行为规则任务节点，标签实例DAG图只有一个标签实例节点。

萃取节点包括萃取系统节点、标签节点和行为规则节点。DAG节点显示框说明。

|图标|描述|
|--|--|
|![fga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9059037061/p188545.png)

|萃取系统节点。|
|![faga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9059037061/p188547.png)

|行为规则节点。|
|![fagaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1987086061/p186766.png)|标签中间节点簇或行为规则节点簇。系统支持展开和收起节点簇。收起时可以避免系统节点的干扰，更清晰地展示标签和行为规则之间的依赖关系。-   标签中间节点簇包含标签中间计算过程的系统节点。
-   行为规则节点簇包含行为规则Shell节点和行为规则节点。 |
|![gaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9059037061/p188546.png)

|标签节点。|

-   行为规则DAG图

    ![vagaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9059037061/p188548.png)

    |编号|描述|
    |--|--|
    |①|行为规则的上游节点包括萃取根节点oi\_schedule\_root\_node及当前行为规则的来源表节点。|
    |②|行为规则节点簇默认呈收起状态，展示行为名称和当前行为规则的来源表名称。单击![gega](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186760.png)图标，展开行为规则节点簇。行为规则节点簇包括行为规则Shell节点和行为规则节点。行为规则Shell节点用于动态生成行为规则的代码，节省计算存储资源。![fagag](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9059037061/p188549.png)

您也可以单击![faga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186762.png)图标，收起节点簇。支持对行为规则节点和行为规则Shell节点进行运维管理：

    -   鼠标悬停至行为规则节点显示框，右键单击或单击![gaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186770.png)图标，对当前行为规则节点进行运维管理，详情请参见[表 3](#table_gf2_4l7_wuh)。

![gagaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0159037061/p188551.png)

    -   Shell节点属于萃取系统节点，仅支持系统节点对应的操作。

![fagag](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0159037061/p188550.png)

您也可以单击![faga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186762.png)图标，收起节点簇。 |
    |③|行为规则节点和下游标签节点之间的标签计算过程节点，默认收起在标签中间节点簇内，为您更直观地展示行为和标签之间的依赖关系。如果需要查看详细的节点依赖关系，单击![gega](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186760.png)图标，展开行为标签中间节点簇。

![fagaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0159037061/p188552.png)

您也可以单击![faga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186762.png)图标，收起节点簇。

鼠标悬停至系统节点显示框，右键单击或单击![gaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186770.png)图标，对当前系统节点进行运维管理，详情请参见[表 5](#table_4j5_qpa_npy)。 |
    |④|标签节点以**标签**字样标识。鼠标悬停至标签节点显示框，右键单击或单击![gaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186770.png)图标，对当前标签节点进行运维管理，详情请参见[表 4](#table_4im_28g_jhm)。|

    |操作|描述|
    |--|--|
    |查看任务|进入生成当前实例节点的任务节点DAG图，查看任务节点详情、上下游节点信息及对任务节点进行运维管理等。|
    |查看节点代码|进入代码详情页，查看实例的节点代码。|
    |查看运行日志|进入运行日志页面，查看实例节点运行的日志。|
    |编辑行为规则|进入当前行为规则的编辑页面，编辑行为规则，详情请参见[编辑行为规则](/cn.zh-CN/数据萃取/行为中心/管理行为规则.md)。|
    |查看操作日志|查看当前实例节点的操作日志。|
    |重跑|重跑当前实例节点及其下游未运行的实例节点。|
    |重跑下游|重跑当前实例节点的下游节点。适用于如下场景，但不仅限于此：    -   当前实例节点的数据更新了，需要同步更新下游节点数据。
    -   当前实例节点的下游节点运行失败。 |
    |终止|终止正在运行中或等待中的实例节点。适用于如下场景，但不仅限于此：    -   由于系统异常或操作失误，需要终止实例运行。
    -   实例节点显示运行中，但数据一直未产出。可以手动终止运行并通过运行日志排查异常。 |
    |置成功继续调度|将运行失败的实例节点手动置运行成功，继续参与调度。|
    |去除上游依赖|去除某个实例节点的上游节点，仅实例节点当前调度周期生效。|
    |强制重跑|强制重跑当前节点。通常适用于需要重跑当前运行状态不符合重跑限制的实例节点。例如，未运行的实例节点。|
    |暂停|即可将实例节点的当前调度周期置为暂停运行状态。同时，系统自动标识为暂停。![gagaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5373707061/p187880.png)

暂停实例即暂停实例节点的当前调度周期，不影响该实例节点其他调度周期。 |

    |操作|描述|
    |--|--|
    |查看任务|进入生成当前实例节点的任务节点DAG图，查看任务节点详情、上下游节点信息及对任务节点进行运维管理等。|
    |查看节点代码|进入代码详情页，查看实例的节点代码。|
    |查看运行日志|进入**运行日志**页面，查看实例节点运行的日志。|
    |编辑标签|进入当前标签的编辑页面，编辑标签，详情请参见[编辑工厂标签](/cn.zh-CN/数据萃取/标签中心/管理工厂标签.md)。|
    |查看操作日志|查看当前实例节点的操作日志。|
    |重跑|重跑当前实例节点及其下游未运行的实例节点。|
    |重跑下游|重跑当前实例节点的下游节点。适用于如下场景，但不仅限于此：    -   当前实例节点的数据更新了，需要同步更新下游节点数据。
    -   当前实例节点的下游节点运行失败。 |
    |终止|终止正在运行中或等待中的实例节点。适用于如下场景，但不仅限于此：    -   由于系统异常或操作失误，需要终止实例运行。
    -   实例节点显示运行中，但数据一直未产出。可以手动终止运行并通过运行日志排查异常。 |
    |置成功继续调度|将运行失败的实例节点手动置运行成功，继续参与调度。|
    |强制重跑|强制重跑当前节点。通常适用于需要重跑当前运行状态不符合重跑限制的实例节点。例如，未运行的实例节点。|
    |暂停|即可将实例节点的当前调度周期置为暂停运行状态。同时，系统自动标识为暂停。![gagaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5373707061/p187880.png)

暂停实例即暂停实例节点的当前调度周期，不影响该实例节点其他调度周期。 |

    |操作|描述|
    |--|--|
    |查看任务|进入生成当前实例节点的任务节点DAG图，查看任务节点详情、上下游节点信息及对任务节点进行运维管理等。|
    |查看节点代码|进入代码详情页，查看实例的节点代码。|
    |查看运行日志|进入运行日志页面，查看实例节点运行的日志。|
    |查看操作日志|查看当前实例节点的操作日志。|
    |重跑|重跑当前实例节点及其下游未运行的实例节点。|
    |重跑下游|重跑当前实例节点的下游节点。适用于如下场景，但不仅限于此：    -   当前实例节点的数据更新了，需要同步更新下游节点数据。
    -   当前实例节点的下游节点运行失败。 |
    |终止|终止正在运行中或等待中的实例节点。适用于如下场景，但不仅限于此：    -   由于系统异常或操作失误，需要终止实例运行。
    -   实例节点显示运行中，但数据一直未产出。可以手动终止运行并通过运行日志排查异常。 |
    |置成功继续调度|将运行失败的实例节点手动置运行成功，继续参与调度。|
    |强制重跑|强制重跑当前节点。通常适用于需要重跑当前运行状态不符合重跑限制的实例节点。例如，未运行的实例节点。|
    |暂停|即可将实例节点的当前调度周期置为暂停运行状态。同时，系统自动标识为暂停。![gagaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5373707061/p187880.png)

暂停实例即暂停实例节点的当前调度周期，不影响该实例节点其他调度周期。 |

    **说明：** 因为系统节点受系统保障，因此仅支持部分操作。

-   标签DAG图

    ![fFAGA](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0159037061/p188553.png)

    |编号|描述|
    |--|--|
    |①|萃取根节点oi\_schedule\_root\_node。|
    |②|行为规则节点簇默认呈收起状态，展示行为名称和当前行为规则的来源表名称。行为规则节点簇的操作，请参见[表 2](#table_wfy_159_65z)。|
    |③|展示ID倒排表实例节点。|
    |④|行为规则节点和下游标签节点之间的标签计算过程节点，默认收起在标签中间节点簇内，为您更直观地展示行为和标签之间的依赖关系。如果需要查看详细的节点依赖关系，单击![gega](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2987086061/p186760.png)图标，展开行为标签中间节点簇。标签中间节点簇的操作，请参见[表 2](#table_wfy_159_65z)。 |
    |⑤|标签节点以**标签**字样标识。标签节点的操作详情请参见[表 2](#table_wfy_159_65z)。|

-   标签逻辑表

    ![gagag](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7246030261/p254730.png)

    |操作|描述|
    |--|--|
    |展开父节点|展开DAG图中main节点不同层级的依赖节点。|
    |展开子节点|
    |查看任务|进入生成当前实例节点的任务节点DAG图，查看任务节点详情、上下游节点信息及对任务节点进行运维管理等。|
    |查看节点代码|进入代码详情页，查看实例的节点代码。|
    |查看运行日志|进入**运行日志**页面，查看实例节点运行的日志。|
    |查看操作日志|查看当前实例节点的操作日志。|
    |重跑|重跑当前实例节点及其下游未运行的实例节点。|
    |重跑下游|重跑当前实例节点的下游节点。适用于如下场景，但不仅限于此：    -   当前实例节点的数据更新了，需要同步更新下游节点数据。
    -   当前实例节点的下游节点运行失败。 |
    |终止|终止正在运行中或等待中的实例节点。适用于如下场景，但不仅限于此：    -   由于系统异常或操作失误，需要终止实例运行。
    -   实例节点显示运行中，但数据一直未产出。可以手动终止运行并通过运行日志排查异常。 |
    |置成功继续调度|将运行失败的实例节点手动置运行成功，继续参与调度。|
    |强制重跑|强制重跑当前节点。通常适用于需要重跑当前运行状态不符合重跑限制的实例节点。例如，未运行的实例节点。|
    |暂停|即可将实例节点的当前调度周期置为暂停运行状态。同时，系统自动标识为暂停。![gagaga](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5373707061/p187880.png)

暂停实例即暂停实例节点的当前调度周期，不影响该实例节点其他调度周期。 |


