# 新建派生指标

派生指标用于圈定原子指标统计业务的范围。本文为您介绍如何新建派生指标。

完成数据域的创建，详情请参见[新建数据域](/cn.zh-CN/数仓规划/业务板块/新建数据域.md)。

Dataphin支持构建标准、规范及无二义性的派生指标。派生指标的说明如下：

-   派生指标由原子指标、业务限定、统计周期和统计粒度组成。
-   系统支持基于维度逻辑表或事实逻辑表构建派生指标。
-   派生指标在业务板块内只能归属于一个来源逻辑表。
-   因为原子指标和派生指标可能来自不同数据域的逻辑表，所以派生指标可能归属于多个数据域。
-   新建派生指标的权限限制，详情请参见[数据开发权限列表](/cn.zh-CN/权限管理/数据开发权限列表.md)。

1.  登录[Dataphin控制台](https://dataphin.console.aliyun.com/workingArea)。

2.  在Dataphin控制台页面，选择工作区Region后，单击**进入Dataphin\>\>**。

    您可以通过以下方式，快速进入工作区：

    -   选择工作区地域后，单击**快速开始相关工作**区域中相应的功能模块。
    -   选择工作区地域后，单击**快速进入研发项目**后的**Dev**或**Basic**页签，选择相应的项目。
    **说明：**

    -   如果您通过**快速开始相关工作**进入数据开发模块，则跳过步骤3的i。
    -   如果您通过**快速进入研发项目**进入数据开发模块，则跳过步骤3的ii。
3.  进入**派生指标**页面。

    1.  在Dataphin首页，单击顶部菜单栏中的**研发**。

    2.  在数据**开发**页面，单击项目名称后的![test](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3497549951/p110384.png)图标后，单击**Dev**或**Basic**页签，选择数据开发的**Dev**或**Basic**（非**Data\_distill**）项目。

        如果您当前访问的是**Dev**或**Basic**（非**Data\_distill**）项目，且项目为您的数据开发空间，则不需要再次选择项目。

    3.  在数据**开发**页面，单击**规范建模**。

    4.  在**规范建模**的左侧导航栏，单击![cega](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4787549951/p100954.png)**派生指标**图标。

        如果进入数据**开发**页面后，系统默认进入**规范建模**页签，则无需再次单击**规范建模**页签。

4.  您可以通过以下方式，进入**新建派生指标**页签。

    -   单击左侧导航栏项目名称后的![](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0887549951/p69318.png)图标，选择**规范定义** \> **派生指标**。
    -   在**派生指标**页面，单击**派生指标**后的![](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0887549951/p69320.png)图标。
    -   在数据开发的总览页面，单击**派生指标**下的![](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0887549951/p69322.png)图标。
    -   在**派生指标**页面左下方，单击**派生指标对象列表**。在**对象列表页**的**派生指标**页面，单击**新建派生指标**。
5.  构建派生指标。

    1.  在新建派生指标页签，选择**原子指标**。

    2.  选择**原子指标**后，单击**下一步**。

    3.  在**创建派生指标**页面，配置参数。

        |参数|描述|
        |--|--|
        |**统计粒度**|选择派生指标的统计粒度。您可以单击**新建统计粒度**，增加派生指标的统计粒度，但系统仅支持添加3个统计粒度。|
        |**统计周期**|选择派生指标的统计周期，系统仅支持选择与所选原子指标具有相同数据时效的统计周期。您可以单击**新建统计周期**，增加派生指标的统计周期，但系统仅支持添加3个统计周期。|
        |**业务限定**|选择派生指标的业务限定，系统仅支持选择与所选原子指标具有相同数据时效的业务限定。您可以单击**新建业务限定**，增加派生指标的业务限定，但系统仅支持添加3个业务限定。|

    4.  完成参数配置后，单击**预生成派生指标**。

6.  在**编辑派生指标**页面，您可以修改**派生指标英文名**和**派生指标名称**。

7.  保存和提交派生指标。

    1.  单击**保存**，保存派生指标。

    2.  单击**提交**，提交派生指标。

    3.  在**提交备注**页面，填写备注信息。

    4.  单击**确定并提交**，完成派生指标的提交。

8.  发布派生指标至生产环境。

    -   如果您的开发模式是Dev-Prod模式，则需要发布新建的派生指标，详情请参见[管理发布任务](/cn.zh-CN/任务发布/管理发布任务.md)。
    -   如果您的开发模式是Basic模式，则提交成功的派生指标，即可进入生产环境。

